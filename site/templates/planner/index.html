{% extends "base.html" %}
{% load humanize %}
{% block content %}{% verbatim %}
<div ng-app="PlannerApp" ng-controller="planController">
<h1>Planner</h1>
<article id="post{{ post.id }}">
    <h2>{{ post.title }}</h2>
    <div class="subinfo">
        <small class="post_time">Posted: {{ post.created_at }} by <a class="author" href="">{{ post.author.username }}</a></small></div>
    <p>{{ post.body }}</p>
    <p><small>Tags: <a href="/blog/tags/{{ tag }}/">{{ tag }}</a>, </small></p>
</article>
<p>No plans! Create a new plan!</p>
<button class="btn btn-primary" data-toggle="modal" data-target="#modalNew">Create</button>


<div class="modal" id="modalNew" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" 
                    arial-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="modalLabel">Modal Title</h4>
            </div>
            <div class="modal-body">
                asdf
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>


</div>
{% endverbatim %}{% endblock %}
{% block script %}
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
<script type="text/javascript">

angular.module('PlannerApp.services', [])
.factory('APIService', function($http) {
    var API = {};

    API.fetch = function() {
        return $http({
            method:'JSONP',
            url:'/',
        });
    };

    return API;
});

angular.module('PlannerApp.controllers', [])
.controller('planController', function($scope, APIService) {
    $scope.txt = "moi";

    $scope.projects = [
        {id:1, title:'project 1', status:'incomplete', created_at:'2015-09-24T12:59:01+1000', tasks:[
            {id:1, title:'subtask 1', type:'idea', status:'unknown'},
            {id:2, title:'subtask 2', type:'task', status:'unknown'},
            {id:3, title:'subtask 3', type:'documentation', status:'unknown'},
            {id:4, title:'subtask 4', type:'specification', status:'unknown'},
            {id:5, title:'subtask 5', type:'', status:'unknown'},
        ]},
    ];

});

angular.module('PlannerApp', [
    'PlannerApp.services', 
    'PlannerApp.controllers']);

</script>
{% endblock %}
